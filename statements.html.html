<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ó–∞—è–≤–ª–µ–Ω–∏—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ - –î–∏—Å–ø–µ—Ç—á–µ—Ä –û–±—â–µ–∂–∏—Ç–∏—è</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Arial', sans-serif;
        }
        body {
            background-color: #f0f2f5;
            color: #333;
            padding: 20px;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2c3e50;
            margin-bottom: 2rem;
            text-align: center;
        }
        .tabs {
            display: flex;
            gap: 0;
            margin-bottom: 2rem;
            border-bottom: 2px solid #ddd;
        }
        .tab {
            padding: 1rem 2rem;
            background: #f8f9fa;
            border: none;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
        }
        .tab.active {
            background: #2c3e50;
            color: white;
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
        .statement-form {
            background: #f8f9fa;
            padding: 1.5rem;
            border-radius: 8px;
            margin-bottom: 2rem;
        }
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin-bottom: 1rem;
        }
        .form-group {
            display: flex;
            flex-direction: column;
        }
        label {
            margin-bottom: 0.5rem;
            font-weight: bold;
            color: #2c3e50;
        }
        input, select, textarea {
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 6px;
            font-size: 14px;
        }
        textarea {
            height: 120px;
            resize: vertical;
        }
        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: bold;
            transition: background-color 0.3s;
        }
        .btn-primary {
            background-color: #27ae60;
            color: white;
        }
        .btn-primary:hover {
            background-color: #219653;
        }
        .btn-secondary {
            background-color: #3498db;
            color: white;
        }
        .btn-warning {
            background-color: #f39c12;
            color: white;
        }
        .btn-danger {
            background-color: #e74c3c;
            color: white;
        }
        .filters {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 1.5rem;
        }
        .statement-card {
            background: white;
            padding: 1.5rem;
            margin-bottom: 1rem;
            border-radius: 8px;
            border-left: 4px solid #3498db;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        .statement-card.new { border-left-color: #3498db; }
        .statement-card.approved { border-left-color: #27ae60; }
        .statement-card.rejected { border-left-color: #e74c3c; }
        .statement-card.archived { border-left-color: #95a5a6; }
        
        .status-badge {
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: bold;
            color: white;
        }
        .status-new { background: #3498db; }
        .status-approved { background: #27ae60; }
        .status-rejected { background: #e74c3c; }
        .status-archived { background: #95a5a6; }
        
        .student-info {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin-bottom: 1rem;
            padding: 1rem;
            background: #f8f9fa;
            border-radius: 6px;
        }
        .student-detail {
            display: flex;
            flex-direction: column;
        }
        .detail-label {
            font-size: 0.8rem;
            color: #7f8c8d;
        }
        .detail-value {
            font-weight: bold;
        }
        .actions {
            display: flex;
            gap: 0.5rem;
            margin-top: 1rem;
        }
        .statement-type-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }
        .type-card {
            background: #f8f9fa;
            padding: 1.5rem;
            border-radius: 8px;
            text-align: center;
            cursor: pointer;
            transition: transform 0.3s;
        }
        .type-card:hover {
            transform: translateY(-2px);
            background: #e8f4fc;
        }
        .type-icon {
            font-size: 2rem;
            margin-bottom: 1rem;
        }
        .notification-badge {
            background: #e74c3c;
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            position: absolute;
            top: -5px;
            right: -5px;
        }
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }
        .stat-card {
            background: #f8f9fa;
            padding: 1.5rem;
            border-radius: 8px;
            text-align: center;
        }
        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            color: #2c3e50;
        }
        .calendar {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 0.5rem;
            margin-top: 2rem;
        }
        .calendar-day {
            padding: 1rem;
            border: 1px solid #ddd;
            border-radius: 6px;
            text-align: center;
            cursor: pointer;
        }
        .calendar-day.has-statement {
            background: #e8f4fc;
            border-color: #3498db;
        }
        .calendar-day.selected {
            background: #3498db;
            color: white;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üìã –ó–∞—è–≤–ª–µ–Ω–∏—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤</h1>

        <div class="tabs">
            <button class="tab active" onclick="showTab('new')">‚ûï –ù–æ–≤–æ–µ –∑–∞—è–≤–ª–µ–Ω–∏–µ</button>
            <button class="tab" onclick="showTab('list')">üìã –í—Å–µ –∑–∞—è–≤–ª–µ–Ω–∏—è</button>
            <button class="tab" onclick="showTab('calendar')">üìÖ –ö–∞–ª–µ–Ω–¥–∞—Ä—å</button>
            <button class="tab" onclick="showTab('stats')">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</button>
        </div>

        <!-- –í–∫–ª–∞–¥–∫–∞ –Ω–æ–≤–æ–≥–æ –∑–∞—è–≤–ª–µ–Ω–∏—è -->
        <div class="tab-content active" id="tab-new">
            <div class="statement-type-grid">
                <div class="type-card" onclick="selectStatementType('absence')">
                    <div class="type-icon">üö™</div>
                    <h3>–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤ –æ–±—â–µ–∂–∏—Ç–∏–∏</h3>
                    <p>–ó–∞—è–≤–ª–µ–Ω–∏–µ –Ω–∞ –≤—Ä–µ–º–µ–Ω–Ω–æ–µ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ</p>
                </div>
                <div class="type-card" onclick="selectStatementType('guests')">
                    <div class="type-icon">üë•</div>
                    <h3>–ü—Ä–∏–µ–º –≥–æ—Å—Ç–µ–π</h3>
                    <p>–†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∞ –ø–æ—Å–µ–ª–µ–Ω–∏–µ –≥–æ—Å—Ç–µ–π</p>
                </div>
                <div class="type-card" onclick="selectStatementType('repair')">
                    <div class="type-icon">üîß</div>
                    <h3>–†–µ–º–æ–Ω—Ç</h3>
                    <p>–ó–∞—è–≤–∫–∞ –Ω–∞ —Ä–µ–º–æ–Ω—Ç–Ω—ã–µ —Ä–∞–±–æ—Ç—ã</p>
                </div>
                <div class="type-card" onclick="selectStatementType('other')">
                    <div class="type-icon">üìÑ</div>
                    <h3>–î—Ä—É–≥–æ–µ</h3>
                    <p>–ò–Ω—ã–µ —Ç–∏–ø—ã –∑–∞—è–≤–ª–µ–Ω–∏–π</p>
                </div>
            </div>

            <div class="statement-form" id="statementForm" style="display: none;">
                <h3 id="formTitle">–ù–æ–≤–æ–µ –∑–∞—è–≤–ª–µ–Ω–∏–µ</h3>
                
                <div class="form-row">
                    <div class="form-group">
                        <label>–°—Ç—É–¥–µ–Ω—Ç *</label>
                        <input type="text" id="studentName" readonly value="–ö—É–¥—Ä—è–≤—Ü–µ–≤–∞ –ï –í25 (201–ê)">
                    </div>
                    
                    <div class="form-group">
                        <label>–¢–∏–ø –∑–∞—è–≤–ª–µ–Ω–∏—è *</label>
                        <input type="text" id="statementType" readonly>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label>–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ *</label>
                        <input type="date" id="startDate">
                    </div>
                    
                    <div class="form-group">
                        <label>–î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è *</label>
                        <input type="date" id="endDate">
                    </div>
                </div>

                <div class="form-group">
                    <label>–ü—Ä–∏—á–∏–Ω–∞/–û–ø–∏—Å–∞–Ω–∏–µ *</label>
                    <textarea id="statementReason" placeholder="–ü–æ–¥—Ä–æ–±–Ω–æ –æ–ø–∏—à–∏—Ç–µ –ø—Ä–∏—á–∏–Ω—É –∑–∞—è–≤–ª–µ–Ω–∏—è..."></textarea>
                </div>

                <div class="form-group">
                    <label>–ö–æ–Ω—Ç–∞–∫—Ç–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω</label>
                    <input type="tel" id="contactPhone" placeholder="+7 (900) 123-45-67">
                </div>

                <div class="form-group">
                    <label>–≠–∫—Å—Ç—Ä–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–∞–∫—Ç</label>
                    <input type="text" id="emergencyContact" placeholder="–§–ò–û –∏ —Ç–µ–ª–µ—Ñ–æ–Ω —Ä–æ–¥—Å—Ç–≤–µ–Ω–Ω–∏–∫–∞">
                </div>

                <button class="btn btn-primary" onclick="submitStatement()">
                    üì® –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞—è–≤–ª–µ–Ω–∏–µ
                </button>
            </div>
        </div>

        <!-- –í–∫–ª–∞–¥–∫–∞ —Å–ø–∏—Å–∫–∞ –∑–∞—è–≤–ª–µ–Ω–∏–π -->
        <div class="tab-content" id="tab-list">
            <div class="filters">
                <div class="form-group">
                    <label>–°—Ç–∞—Ç—É—Å</label>
                    <select id="statusFilter" onchange="filterStatements()">
                        <option value="">–í—Å–µ —Å—Ç–∞—Ç—É—Å—ã</option>
                        <option value="new">–ù–æ–≤—ã–µ</option>
                        <option value="approved">–û–¥–æ–±—Ä–µ–Ω–Ω—ã–µ</option>
                        <option value="rejected">–û—Ç–∫–ª–æ–Ω–µ–Ω–Ω—ã–µ</option>
                        <option value="archived">–í –∞—Ä—Ö–∏–≤–µ</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>–¢–∏–ø –∑–∞—è–≤–ª–µ–Ω–∏—è</label>
                    <select id="typeFilter" onchange="filterStatements()">
                        <option value="">–í—Å–µ —Ç–∏–ø—ã</option>
                        <option value="absence">–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ</option>
                        <option value="guests">–ì–æ—Å—Ç–∏</option>
                        <option value="repair">–†–µ–º–æ–Ω—Ç</option>
                        <option value="other">–î—Ä—É–≥–æ–µ</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>–≠—Ç–∞–∂</label>
                    <select id="floorFilter" onchange="filterStatements()">
                        <option value="">–í—Å–µ —ç—Ç–∞–∂–∏</option>
                        <option value="2">2 —ç—Ç–∞–∂</option>
                        <option value="3">3 —ç—Ç–∞–∂</option>
                        <option value="5">5 —ç—Ç–∞–∂</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>–ü–µ—Ä–∏–æ–¥</label>
                    <input type="date" id="dateFilter" onchange="filterStatements()">
                </div>
            </div>

            <div id="statementsList">
                <!-- –°—é–¥–∞ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –∑–∞—è–≤–ª–µ–Ω–∏—è -->
            </div>
        </div>

        <!-- –í–∫–ª–∞–¥–∫–∞ –∫–∞–ª–µ–Ω–¥–∞—Ä—è -->
        <div class="tab-content" id="tab-calendar">
            <h3>–ö–∞–ª–µ–Ω–¥–∞—Ä—å –∑–∞—è–≤–ª–µ–Ω–∏–π –Ω–∞ —è–Ω–≤–∞—Ä—å 2024</h3>
            <div class="calendar" id="calendarGrid">
                <!-- –ö–∞–ª–µ–Ω–¥–∞—Ä—å –±—É–¥–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ -->
            </div>
            
            <div id="dayStatements" style="margin-top: 2rem;">
                <!-- –ó–∞—è–≤–ª–µ–Ω–∏—è –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –¥–Ω—è -->
            </div>
        </div>

        <!-- –í–∫–ª–∞–¥–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ -->
        <div class="tab-content" id="tab-stats">
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number" id="totalStatements">0</div>
                    <div>–í—Å–µ–≥–æ –∑–∞—è–≤–ª–µ–Ω–∏–π</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="pendingStatements">0</div>
                    <div>–ù–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–∏</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="approvalRate">0%</div>
                    <div>–£—Ä–æ–≤–µ–Ω—å –æ–¥–æ–±—Ä–µ–Ω–∏—è</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="avgProcessing">0—á</div>
                    <div>–°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏</div>
                </div>
            </div>

            <h3>–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Ç–∏–ø–∞–º –∑–∞—è–≤–ª–µ–Ω–∏–π</h3>
            <div id="statementsChart">
                <div style="background: #f8f9fa; padding: 2rem; text-align: center; border-radius: 8px;">
                    üìä –ì—Ä–∞—Ñ–∏–∫ –∑–∞—è–≤–ª–µ–Ω–∏–π –ø–æ —Ç–∏–ø–∞–º (–±—É–¥–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –≤ –ø–æ–ª–Ω–æ–π –≤–µ—Ä—Å–∏–∏)
                </div>
            </div>
        </div>
    </div>

    <script>
        // –î–∞–Ω–Ω—ã–µ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏
        const statementsData = [
            {
                id: 1,
                student: "–ö—É–¥—Ä—è–≤—Ü–µ–≤–∞ –ï –í25",
                room: "201–ê",
                floor: "2",
                type: "absence",
                typeText: "–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤ –æ–±—â–µ–∂–∏—Ç–∏–∏",
                startDate: "2024-01-20",
                endDate: "2024-01-22",
                reason: "–ü–æ–µ–∑–¥–∫–∞ –¥–æ–º–æ–π –∫ —Ä–æ–¥–∏—Ç–µ–ª—è–º",
                status: "approved",
                statusText: "–û–¥–æ–±—Ä–µ–Ω–æ",
                submitted: "2024-01-15 10:30",
                contact: "+7 (900) 123-45-67",
                emergency: "–ò–≤–∞–Ω–æ–≤–∞ –ú.–ò. +7 (913) 456-78-90"
            },
            {
                id: 2,
                student: "–ü–µ—Ç—Ä–æ–≤–∞ –í –°",
                room: "305–ë",
                floor: "3",
                type: "guests",
                typeText: "–ü—Ä–∏–µ–º –≥–æ—Å—Ç–µ–π",
                startDate: "2024-01-25",
                endDate: "2024-01-27",
                reason: "–ü–æ—Å–µ–ª–µ–Ω–∏–µ —Ä–æ–¥–∏—Ç–µ–ª–µ–π",
                status: "new",
                statusText: "–ù–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–∏",
                submitted: "2024-01-18 14:20",
                contact: "+7 (900) 987-65-43",
                emergency: "–ü–µ—Ç—Ä–æ–≤ –°.–í. +7 (913) 123-45-67"
            }
        ];

        let currentStatements = [];
        let selectedStatementType = '';

        // –ü–æ–∫–∞–∑–∞—Ç—å –≤–∫–ª–∞–¥–∫—É
        function showTab(tabName) {
            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            
            document.querySelector(`.tab:nth-child(${tabName === 'new' ? 1 : tabName === 'list' ? 2 : tabName === 'calendar' ? 3 : 4})`).classList.add('active');
            document.getElementById(`tab-${tabName}`).classList.add('active');

            if (tabName === 'list') {
                loadStatements();
            } else if (tabName === 'calendar') {
                generateCalendar();
            } else if (tabName === 'stats') {
                loadStatistics();
            }
        }

        // –í—ã–±–æ—Ä —Ç–∏–ø–∞ –∑–∞—è–≤–ª–µ–Ω–∏—è
        function selectStatementType(type) {
            selectedStatementType = type;
            const typeNames = {
                'absence': '–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤ –æ–±—â–µ–∂–∏—Ç–∏–∏',
                'guests': '–ü—Ä–∏–µ–º –≥–æ—Å—Ç–µ–π',
                'repair': '–†–µ–º–æ–Ω—Ç',
                'other': '–î—Ä—É–≥–æ–µ –∑–∞—è–≤–ª–µ–Ω–∏–µ'
            };

            document.getElementById('statementType').value = typeNames[type];
            document.getElementById('formTitle').textContent = typeNames[type];
            document.getElementById('statementForm').style.display = 'block';
            
            // –ê–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–∞—Ç
            const today = new Date();
            document.getElementById('startDate').value = today.toISOString().split('T')[0];
            
            const endDate = new Date();
            endDate.setDate(today.getDate() + 3);
            document.getElementById('endDate').value = endDate.toISOString().split('T')[0];
        }

        // –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞—è–≤–ª–µ–Ω–∏—è
        function submitStatement() {
            const startDate = document.getElementById('startDate').value;
            const endDate = document.getElementById('endDate').value;
            const reason = document.getElementById('statementReason').value;

            if (!startDate || !endDate || !reason) {
                alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è!');
                return;
            }

            const newStatement = {
                id: statementsData.length + 1,
                student: document.getElementById('studentName').value,
                room: "201–ê",
                floor: "2",
                type: selectedStatementType,
                typeText: document.getElementById('statementType').value,
                startDate: startDate,
                endDate: endDate,
                reason: reason,
                status: "new",
                statusText: "–ù–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–∏",
                submitted: new Date().toISOString().slice(0, 16).replace('T', ' '),
                contact: document.getElementById('contactPhone').value,
                emergency: document.getElementById('emergencyContact').value
            };

            statementsData.push(newStatement);
            alert('–ó–∞—è–≤–ª–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –Ω–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–µ!');
            
            // –û—á–∏—Å—Ç–∫–∞ —Ñ–æ—Ä–º—ã
            document.getElementById('statementReason').value = '';
            document.getElementById('contactPhone').value = '';
            document.getElementById('emergencyContact').value = '';
            document.getElementById('statementForm').style.display = 'none';
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞—è–≤–ª–µ–Ω–∏–π
        function loadStatements() {
            currentStatements = [...statementsData];
            renderStatements();
        }

        // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∑–∞—è–≤–ª–µ–Ω–∏–π
        function filterStatements() {
            const status = document.getElementById('statusFilter').value;
            const type = document.getElementById('typeFilter').value;
            const floor = document.getElementById('floorFilter').value;
            const date = document.getElementById('dateFilter').value;

            currentStatements = statementsData.filter(statement => {
                const matchesStatus = !status || statement.status === status;
                const matchesType = !type || statement.type === type;
                const matchesFloor = !floor || statement.floor === floor;
                const matchesDate = !date || statement.startDate === date;
                
                return matchesStatus && matchesType && matchesFloor && matchesDate;
            });

            renderStatements();
        }

        // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–∞—è–≤–ª–µ–Ω–∏–π
        function renderStatements() {
            const container = document.getElementById('statementsList');
            
            if (currentStatements.length === 0) {
                container.innerHTML = '<div style="text-align: center; padding: 2rem; color: #7f8c8d;">–ó–∞—è–≤–ª–µ–Ω–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</div>';
                return;
            }

            container.innerHTML = currentStatements.map(statement => `
                <div class="statement-card ${statement.status}">
                    <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 1rem;">
                        <div>
                            <strong>${statement.student}</strong><br>
                            –ö–æ–º–Ω–∞—Ç–∞: ${statement.room} | –≠—Ç–∞–∂: ${statement.floor}<br>
                            <span class="status-badge status-${statement.status}">
                                ${statement.statusText}
                            </span>
                        </div>
                        <div style="text-align: right;">
                            <small>${statement.submitted}</small><br>
                            <span style="color: #3498db; font-weight: bold;">${statement.typeText}</span>
                        </div>
                    </div>
                    
                    <div class="student-info">
                        <div class="student-detail">
                            <span class="detail-label">–ü–µ—Ä–∏–æ–¥</span>
                            <span class="detail-value">${statement.startDate} - ${statement.endDate}</span>
                        </div>
                        <div class="student-detail">
                            <span class="detail-label">–ö–æ–Ω—Ç–∞–∫—Ç</span>
                            <span class="detail-value">${statement.contact || '–ù–µ —É–∫–∞–∑–∞–Ω'}</span>
                        </div>
                    </div>
                    
                    <div style="margin-bottom: 1rem;">
                        <strong>–ü—Ä–∏—á–∏–Ω–∞:</strong> ${statement.reason}
                    </div>
                    
                    ${statement.emergency ? `
                    <div style="margin-bottom: 1rem; padding: 0.5rem; background: #fff3cd; border-radius: 4px;">
                        <strong>–≠–∫—Å—Ç—Ä–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–∞–∫—Ç:</strong> ${statement.emergency}
                    </div>
                    ` : ''}
                    
                    <div class="actions">
                        ${statement.status === 'new' ? `
                            <button class="btn btn-primary" onclick="approveStatement(${statement.id})">‚úÖ –û–¥–æ–±—Ä–∏—Ç—å</button>
                            <button class="btn btn-danger" onclick="rejectStatement(${statement.id})">‚ùå –û—Ç–∫–ª–æ–Ω–∏—Ç—å</button>
                        ` : ''}
                        <button class="btn btn-secondary" onclick="viewStatement(${statement.id})">üëÅÔ∏è –ü—Ä–æ—Å–º–æ—Ç—Ä</button>
                        <button class="btn btn-warning" onclick="editStatement(${statement.id})">‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
                    </div>
                </div>
            `).join('');
        }

        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è
        function generateCalendar() {
            const calendar = document.getElementById('calendarGrid');
            calendar.innerHTML = '';
            
            // –ó–∞–≥–æ–ª–æ–≤–∫–∏ –¥–Ω–µ–π –Ω–µ–¥–µ–ª–∏
            const days = ['–ü–Ω', '–í—Ç', '–°—Ä', '–ß—Ç', '–ü—Ç', '–°–±', '–í—Å'];
            days.forEach(day => {
                const dayHeader = document.createElement('div');
                dayHeader.style.fontWeight = 'bold';
                dayHeader.style.textAlign = 'center';
                dayHeader.textContent = day;
                calendar.appendChild(dayHeader);
            });
            
            // –î–Ω–∏ –º–µ—Å—è—Ü–∞ (—É–ø—Ä–æ—â–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è)
            for (let i = 1; i <= 31; i++) {
                const day = document.createElement('div');
                day.className = 'calendar-day';
                day.textContent = i;
                
                // –ü–æ–º–µ—á–∞–µ–º –¥–Ω–∏ —Å –∑–∞—è–≤–ª–µ–Ω–∏—è–º–∏
                const hasStatement = statementsData.some(s => 
                    parseInt(s.startDate.split('-')[2]) === i || 
                    parseInt(s.endDate.split('-')[2]) === i
                );
                
                if (hasStatement) {
                    day.classList.add('has-statement');
                }
                
                day.onclick = () => showDayStatements(i);
                calendar.appendChild(day);
            }
        }

        function showDayStatements(day) {
            const dayStatements = statementsData.filter(statement => {
                const startDay = parseInt(statement.startDate.split('-')[2]);
                const endDay = parseInt(statement.endDate.split('-')[2]);
                return day >= startDay && day <= endDay;
            });
            
            const container = document.getElementById('dayStatements');
            if (dayStatements.length === 0) {
                container.innerHTML = '<div style="text-align: center; padding: 2rem; color: #7f8c8d;">–ù–∞ —ç—Ç–æ—Ç –¥–µ–Ω—å –∑–∞—è–≤–ª–µ–Ω–∏–π –Ω–µ—Ç</div>';
                return;
            }
            
            container.innerHTML = `
                <h4>–ó–∞—è–≤–ª–µ–Ω–∏—è –Ω–∞ ${day} —è–Ω–≤–∞—Ä—è:</h4>
                ${dayStatements.map(s => `
                    <div style="padding: 1rem; margin: 0.5rem 0; background: #f8f9fa; border-radius: 6px;">
                        <strong>${s.student}</strong> - ${s.typeText}<br>
                        <small>${s.startDate} - ${s.endDate}</small>
                    </div>
                `).join('')}
            `;
        }

        // –î–µ–π—Å—Ç–≤–∏—è —Å –∑–∞—è–≤–ª–µ–Ω–∏—è–º–∏
        function approveStatement(id) {
            if (confirm('–û–¥–æ–±—Ä–∏—Ç—å —ç—Ç–æ –∑–∞—è–≤–ª–µ–Ω–∏–µ?')) {
                const statement = statementsData.find(s => s.id === id);
                if (statement) {
                    statement.status = 'approved';
                    statement.statusText = '–û–¥–æ–±—Ä–µ–Ω–æ';
                    loadStatements();
                    alert('–ó–∞—è–≤–ª–µ–Ω–∏–µ –æ–¥–æ–±—Ä–µ–Ω–æ!');
                }
            }
        }

        function rejectStatement(id) {
            const reason = prompt('–£–∫–∞–∂–∏—Ç–µ –ø—Ä–∏—á–∏–Ω—É –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è:');
            if (reason) {
                const statement = statementsData.find(s => s.id === id);
                if (statement) {
                    statement.status = 'rejected';
                    statement.statusText = '–û—Ç–∫–ª–æ–Ω–µ–Ω–æ: ' + reason;
                    loadStatements();
                    alert('–ó–∞—è–≤–ª–µ–Ω–∏–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–æ!');
                }
            }
        }

        function viewStatement(id) {
            const statement = statementsData.find(s => s.id === id);
            if (statement) {
                alert(`–ü—Ä–æ—Å–º–æ—Ç—Ä –∑–∞—è–≤–ª–µ–Ω–∏—è #${id}\n\n–°—Ç—É–¥–µ–Ω—Ç: ${statement.student}\n–¢–∏–ø: ${statement.typeText}\n–°—Ç–∞—Ç—É—Å: ${statement.statusText}\n–ü–µ—Ä–∏–æ–¥: ${statement.startDate} - ${statement.endDate}\n–ü—Ä–∏—á–∏–Ω–∞: ${statement.reason}`);
            }
        }

        function editStatement(id) {
            alert(`–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞—è–≤–ª–µ–Ω–∏—è #${id} (–±—É–¥–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ –ø–æ–ª–Ω–æ–π –≤–µ—Ä—Å–∏–∏)`);
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
        function loadStatistics() {
            document.getElementById('totalStatements').textContent = statementsData.length;
            document.getElementById('pendingStatements').textContent = statementsData.filter(s => 
                s.status === 'new').length;
            
            const approved = statementsData.filter(s => s.status === 'approved').length;
            const totalProcessed = statementsData.filter(s => s.status !== 'new').length;
            const approvalRate = totalProcessed > 0 ? Math.round((approved / totalProcessed) * 100) : 0;
            document.getElementById('approvalRate').textContent = approvalRate + '%';
            
            document.getElementById('avgProcessing').textContent = '24—á'; // –ó–∞–≥–ª—É—à–∫–∞
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        document.addEventListener('DOMContentLoaded', function() {
            loadStatements();
            generateCalendar();
            loadStatistics();
        });
    </script>
</body>
</html>